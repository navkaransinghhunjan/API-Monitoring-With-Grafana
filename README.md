# Flask Monitoring Application

This repository sets up a monitoring and logging system for a Flask application using **Prometheus**, **Grafana Loki**, **StatsD**, and **Promtail**. The entire setup is containerized with **Docker Compose** for easy deployment.

## Features

- **Flask Application**:
  - A sample Flask app running on port `8000` with custom StatsD metrics.
  - Logs stored in `/flask_app/logs/app.log`.

- **Prometheus**:
  - Scrapes metrics from the StatsD Exporter.
  - Configured via `etc/prometheus/prometheus.yml`.

- **Promtail and Loki**:
  - Promtail collects and forwards logs to Loki.
  - Log path: `/flask_app/logs/app.log`.

- **Grafana**:
  - Visualizes metrics from Prometheus and logs from Loki.

## Directory Structure

```plaintext
flask-monitoring/
├── etc/
│   ├── dashboards/              # Placeholder for Grafana dashboards
│   ├── grafana/                 # Grafana setup files
│   │   └── datasource.yml       # Data source configuration
│   ├── loki/
|   |   └── loki-config.yml           # Loki configuration files
│   ├── prometheus/              # Prometheus configuration files
│   │   └── prometheus.yml       # Prometheus scrape jobs
│   └── promtail/                # Promtail configuration files
│       └── config.yml           # Promtail log scraping configuration
├── flask_app/
│   ├── logs/                    # Log directory for the Flask app
│   ├── app.py                   # Flask application code
│   ├── Dockerfile               # Dockerfile for Flask app
│   ├── requirements.txt         # Python dependencies
│   └── utils.py                 # Custom StatsD middleware and settings
├── docker-compose.yml           # Docker Compose configuration
├── README.md                    # Project documentation
└── request-script.sh            # Bash script for testing API requests
```
## Setup Instructions

1. **Clone the Repository**

```bash
git clone https://github.com/navkaransinghhunjan/API-Logs-And-Metrics-Monitoring-With-Grafana.git
cd flask-monitoring
```

2. **Build and Run the Project**

```bash
docker-compose up --build
```
3. **Access Services**

Flask Application: ```http://localhost:8000```

Prometheus: ```http://localhost:9090```

Grafana: ```http://localhost:3000```

Default Grafana credentials:
Username: admin
Password: admin

4. **Testing the Flask Application**

Run the API testing script:
```bash
bash request-script.sh
```

5. **Metrics and Logs**

Metrics (via StatsD) and Logs generated by the Flask app are visible in Grafana.
